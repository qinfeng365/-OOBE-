# 产品介绍网站设计方案

## 1. 技术栈推荐

### 前端

*   **框架**: **React.js (使用 Next.js)**
    *   **理由**: React 拥有庞大的社区和丰富的生态系统，其组件化的开发方式非常适合构建 OOBE (Out-of-Box Experience) 这种模块化的界面。Next.js 作为其上层框架，可以提供服务端渲染 (SSR) 和静态站点生成 (SSG) 能力，有利于 SEO 和提升首屏加载速度。
*   **UI 库**: **Ant Design** 或 **Material-UI**
    *   **理由**: 提供丰富、高质量的预设组件，可以大大加快开发速度，并保证 UI 的一致性和专业性。
*   **状态管理**: **Redux Toolkit** 或 **Zustand**
    *   **理由**: 对于需要管理 OOBE 步骤和动态内容的应用来说，一个可靠的状态管理库是必需的。Redux Toolkit 是官方推荐的 Redux 解决方案，功能强大；Zustand 则更轻量、简洁，上手快。
*   **数据请求**: **Axios** 或 **a-hooks**
    *   **理由**: a-hooks 是一个优秀的 React Hooks 库，它提供的 `useRequest` 可以极大地简化数据请求、缓存、加载状态和错误处理的逻辑。

### 后端

*   **框架**: **Node.js + NestJS**
    *   **理由**: Node.js 的非阻塞 I/O 特性非常适合构建高性能的 API 服务。NestJS 基于 TypeScript，提供了更结构化的架构（模块、控制器、服务），并内置了依赖注入等高级特性，有助于构建可维护、可扩展的复杂应用。
*   **数据库**: **PostgreSQL**
    *   **理由**: 一款功能强大、可靠的开源关系型数据库，社区活跃，对复杂查询和 JSON 数据类型的支持良好，非常适合业务场景。
*   **ORM**: **Prisma**
    *   **理由**: Prisma 是一个现代化的数据库工具集，以其类型安全、自动生成查询和优秀的开发体验而著称，可以显著提升开发效率并减少错误。

## 2. 项目结构

### 前端 (React + Next.js)

```
/
|-- components/         # 可复用的UI组件
|   |-- oobe/
|   |   |-- OobeStep.tsx    # 单个OOBE步骤组件
|   |   |-- OobeNavigator.tsx # 导航按钮组件
|   |-- common/
|   |   |-- Button.tsx
|   |   |-- Loading.tsx
|-- pages/              # 页面级组件 (Next.js路由)
|   |-- api/            # API路由 (Next.js)
|   |-- oobe/
|   |   |-- [step].tsx    # 动态路由，展示特定步骤
|   |-- admin/            # 管理后台页面
|   |   |-- index.tsx     # 页面列表
|   |   |-- edit/[id].tsx # 编辑页面
|   |-- _app.tsx          # 全局App组件
|   |-- _document.tsx     # 全局文档结构
|-- public/             # 静态资源 (图片, favicon等)
|-- services/           # API请求服务
|   |-- oobeService.ts
|-- store/              # 状态管理 (Redux/Zustand)
|   |-- oobeSlice.ts
|-- styles/             # 全局样式
|-- utils/              # 工具函数
|-- .eslintrc.js
|-- next.config.js
|-- package.json
|-- tsconfig.json
```

### 后端 (Node.js + NestJS)

```
/
|-- src/
|   |-- modules/
|   |   |-- oobe/
|   |   |   |-- oobe.controller.ts  # 控制器 (处理HTTP请求)
|   |   |   |-- oobe.service.ts     # 服务 (业务逻辑)
|   |   |   |-- oobe.module.ts      # 模块定义
|   |   |   |-- dto/                # 数据传输对象 (Data Transfer Objects)
|   |   |   |   |-- create-oobe-page.dto.ts
|   |   |   |   |-- update-oobe-page.dto.ts
|   |   |   |-- entities/           # 数据库实体
|   |   |   |   |-- oobe-page.entity.ts
|   |-- config/             # 配置文件
|   |-- main.ts             # 应用入口文件
|   |-- app.module.ts       # 根模块
|-- test/                 # 测试文件
|-- .eslintrc.js
|-- nest-cli.json
|-- package.json
|-- tsconfig.json
```

## 3. API 设计

**Base URL**: `/api/v1`

| 功能 | URL | 方法 | 请求体 (JSON) | 响应体 (JSON) | 状态码 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 获取所有OOBE页面 | `/oobe-pages` | GET | (无) | `[{ "id", "page_number", "title", "content" }]` | 200 OK |
| 获取单个OOBE页面 | `/oobe-pages/:id` | GET | (无) | `{ "id", "page_number", "title", "content" }` | 200 OK |
| 创建新OOBE页面 | `/oobe-pages` | POST | `{ "page_number", "title", "content" }` | `{ "id", "page_number", "title", "content" }` | 201 Created |
| 更新OOBE页面 | `/oobe-pages/:id` | PUT | `{ "page_number", "title", "content" }` | `{ "id", "page_number", "title", "content" }` | 200 OK |
| 删除OOBE页面 | `/oobe-pages/:id` | DELETE | (无) | `{ "message": "Page deleted successfully" }` | 200 OK |

## 4. 数据库设计

**表名**: `oobe_pages`

| 字段名 | 数据类型 | 约束 | 描述 |
| :--- | :--- | :--- | :--- |
| `id` | `SERIAL` 或 `INT AUTO_INCREMENT` | `PRIMARY KEY` | 唯一标识符 |
| `page_number` | `INT` | `NOT NULL`, `UNIQUE` | 页面显示的顺序 |
| `title` | `VARCHAR(255)` | `NOT NULL` | 页面标题 |
| `content` | `TEXT` | `NOT NULL` | 页面介绍文字 |
| `created_at` | `TIMESTAMP` | `DEFAULT CURRENT_TIMESTAMP` | 创建时间 |
| `updated_at` | `TIMESTAMP` | `DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP` | 最后更新时间 |
