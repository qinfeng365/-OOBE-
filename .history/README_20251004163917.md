# OOBE 产品介绍网站

这是一个模块化设计的网站，旨在以微软 Windows 11 的 OOBE (Out-of-Box Experience) 形式介绍产品。它包含一个可配置的后端和一个功能丰富的前端，允许管理员自定义 OOBE 页面的数量、内容、布局和视觉样式。

## 🚀 功能特性

-   **OOBE 风格产品介绍页面**:
    -   以流畅的动画效果在不同 OOBE 步骤之间切换。
    -   支持自定义 Canvas 大小和背景图片。
    -   内容可由后台设计器自由布局。
-   **后台管理界面**:
    -   对 OOBE 页面进行 CRUD (创建、读取、更新、删除) 操作。
    -   提供页面列表、编辑和删除功能。
-   **可视化 OOBE 页面设计器**:
    -   基于 16:9 比例的画布，支持自定义像素宽高和背景图片。
    -   拖拽式添加标题、文本、图片块。
    -   块内容可直接编辑，支持调整位置、大小。
    -   保存后将页面布局和 Canvas 设置序列化为 JSON 存储。
-   **Fluent/Windows 11 风格 UI**:
    -   采用微软 Fluent Design 体系的蓝白配色和 Segoe UI 字体栈。
    -   卡片、按钮等组件经过定制，具有 Windows 11 的视觉效果。
    -   支持 `prefers-reduced-motion` 辅助功能设置，自动禁用动画。

## 🛠️ 技术栈

### 前端 (Frontend)

-   **Next.js**: 基于 React 的全栈框架，用于构建用户界面和路由。
-   **React**: 用于构建交互式用户界面的 JavaScript 库。
-   **Ant Design**: 企业级 UI 组件库，提供丰富的 UI 组件。
-   **Axios**: 基于 Promise 的 HTTP 客户端，用于与后端 API 交互。
-   **CSS Modules / 全局 CSS**: 用于样式管理，并实现 Fluent Design 风格。

### 后端 (Backend)

-   **NestJS**: 一个渐进式 Node.js 框架，用于构建高效、可扩展的服务器端应用程序。
-   **Prisma**: 现代数据库 ORM，用于数据库访问和管理。
-   **PostgreSQL (推荐)**: 生产环境数据库。
-   **SQLite (开发环境)**: 轻量级文件数据库，方便开发。

## 📂 项目结构

```
project-welcome-xiya/
├── backend/                  # NestJS 后端服务
│   ├── prisma/               # Prisma 数据库模式和迁移
│   ├── src/                  # 后端源代码
│   │   ├── oobe/             # OOBE 页面相关的控制器、服务、DTO
│   │   └── ...
│   └── ...
├── frontend/                 # Next.js 前端应用
│   ├── public/               # 静态资源
│   ├── src/                  # 前端源代码
│   │   ├── app/              # Next.js App Router 目录
│   │   │   ├── admin/        # 后台管理页面 (列表、设计器)
│   │   │   ├── oobe/[step]/  # OOBE 产品介绍动态路由页面
│   │   │   ├── globals.css   # 全局样式 (Fluent Design)
│   │   │   ├── layout.tsx    # 根布局
│   │   │   └── ...
│   │   └── ...
│   └── ...
└── README.md                 # 项目说明文件
```

## ⚙️ 安装与运行

### 前提条件

-   Node.js (v18 或更高版本)
-   npm 或 Yarn 或 pnpm (推荐 pnpm)
-   Git

### 步骤

1.  **克隆仓库**:
    ```bash
    git clone https://github.com/your-username/project-welcome-xiya.git
    cd project-welcome-xiya
    ```

2.  **后端设置**:
    ```bash
    cd backend
    pnpm install
    npx prisma migrate dev --name init # 初始化数据库并运行迁移 (开发环境使用 SQLite)
    pnpm run start:dev # 启动后端开发服务器 (默认端口 3000)
    ```
    后端服务将在 `http://localhost:3000/api/v1` 监听。

3.  **前端设置**:
    ```bash
    cd ../frontend
    pnpm install
    pnpm run dev # 启动前端开发服务器 (默认端口 3001)
    ```
    前端应用将在 `http://localhost:3001` 监听。

## 🚀 使用指南

1.  **访问 OOBE 页面**:
    -   打开浏览器访问 `http://localhost:3001/oobe/1` (或任何 `step` 数字)。
    -   使用页面底部的 "Previous" 和 "Next" 按钮切换 OOBE 步骤，体验动画效果。

2.  **访问后台管理面板**:
    -   打开浏览器访问 `http://localhost:3001/admin`。
    -   在这里可以查看、添加、编辑和删除 OOBE 页面。

3.  **使用页面设计器**:
    -   在后台管理面板中，点击某个 OOBE 页面旁边的 "Design" 按钮进入设计器。
    -   **Canvas 设置**: 在右侧面板中，可以自定义 Canvas 的 `Width` (宽度)、`Height` (高度) 和 `Background URL` (背景图片链接)。
    -   **添加块**: 点击 "Add Title"、"Add Text" 或 "Add Image" 添加内容块。
    -   **编辑块**: 拖拽块调整位置，点击块选中后在右侧属性面板调整 `X`、`Y`、`W`、`H` (位置和大小)。文本块可直接在画布上编辑内容，图片块可在属性面板修改图片 URL。
    -   **保存**: 点击 "Save" 按钮保存所有更改。

## 💡 设计理念

-   **模块化**: 前后端分离，职责清晰，易于维护和扩展。
-   **可配置性**: 后端 API 驱动 OOBE 内容，前端设计器提供高度自定义能力。
-   **用户体验**: 借鉴微软 OOBE 流程，提供流畅的页面切换动画和直观的 UI。
-   **性能**: 利用 Next.js 的优势，优化前端加载和渲染性能。

## 🔮 未来增强

-   **用户认证与授权**: 为后台管理面板添加登录功能和权限控制。
-   **更多设计器功能**:
    -   块的层级 (Z-index) 管理。
    -   复制、删除块。
    -   网格吸附、对齐工具。
    -   更多块类型 (如视频、按钮)。
-   **国际化 (i18n)**: 支持多语言内容。
-   **主题切换**: 允许用户在 OOBE 页面选择不同的主题。
-   **部署自动化**: 集成 CI/CD 流程，实现自动化部署。